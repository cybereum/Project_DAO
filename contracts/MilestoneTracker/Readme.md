#INTRODUCTION
The MilestoneTracker contract contains the logic for tracking project milestones and their associated payments. The contract has several supporting structs, enums, and mappings:
The contract defines a Milestone Tracker that allows clients to create milestones, track their progress, and pay contractors for completed work. The contract uses several other contracts (imported via import) to ensure security and functionality, including a safe math library (SafeMath.sol), a contract for syncing dates (DateSync.sol), and an interface for interacting with another project organization contract (ProjectOrganization.sol).
The contract contains several data structures including the Milestone struct that contains information about each milestone created, such as the client's address, a list of contractors, a verifier, deadline, amount, a hash of the milestone document, and whether the milestone has been completed or paid. It also contains two mappings to track the reputation of contractors and verifiers, respectively
The contract contains several data structures including the Milestone struct that contains information about each milestone created, such as the client's address, a list of contractors, a verifier, deadline, amount, a hash of the milestone document, and whether the milestone has been completed or paid. It also contains two mappings to track the reputation of contractors and verifiers, respectively.
The contract has several public functions that can be called to interact with the MilestoneTracker contract, such as addAuthorizedAddress(), removeAuthorizedAddress(), updateMinVerifierReputation(), fundCybereum(), createMilestone(), completeMilestone(), updateVerifierReputationThreshold(), resolveDispute(), etc.
The contract also has several internal functions, such as _payContractors(), _payVerifiers(), and _updateReputation() that are used to perform specific actions within the contract.
The MilestoneTracker contract provides a way for clients to set and track their project milestones, ensure secure and on-time completion, and pay contractors once work has been completed to satisfaction.
- Reputation: Tracks a user's reputation score and the number of ratings that the user has received. Every user has both a contractorReputations and a verifierReputations mapping to keep track of user reputations, which include a reputation score and the number of ratings given to each contractor and verifier.
- Token: Tracks the ownership of a token by storing its unique identifier and the address of the token owner.
- PaymentMilestone: This struct represents a payment milestone for a milestone event in the project. It contains fields for the payment amount, payment percentage of the total payment, payment completion status (whether payment has been made or not), an OrderStatus enum field to track payment status, and a Token struct used to track ownership of a token. Additionally, a MilestoneType enum field is used to distinguish payment milestones from regular milestones.
- Milestone: This struct tracks the progress of a project milestone, including its description, client, contractors, verifier, deadline, amount, project value accumulated at the milestone, document hash, completion status, payment status, dispute status, optional penalty for late completion, payment milestones, completed by contractor flag, payment percentage, and a token struct field for tracking token ownership. A MilestoneType enum field is used to distinguish payment milestones from regular milestones.
- OrderStatus and MilestoneType: These enums define constants for tracking various states of an order and milestones respectively.
- The MilestoneTracker contract also contains a number of functions for adding authorized addresses, removing authorized addresses and updating the minVerifierReputation threshold. Additionally, there is a fundCybereum() function to fund the 'cybereum' address that should be provided, but wasnâ€™t available in this contract code.
- The createMilestone() function is used to create a new milestone for a project. This function takes several arguments, including an array of contractors.
