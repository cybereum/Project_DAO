# INTRODUCTION
The MilestoneTracker contract contains the logic for tracking project milestones and their associated payments. The contract has several supporting structs, enums, and mappings:
The contract defines a Milestone Tracker that allows clients to create milestones, track their progress, and pay contractors for completed work. The contract uses several other contracts (imported via import) to ensure security and functionality, including a safe math library (SafeMath.sol), a contract for syncing dates (DateSync.sol), and an interface for interacting with another project organization contract (ProjectOrganization.sol).
The contract contains several data structures including the Milestone struct that contains information about each milestone created, such as the client's address, a list of contractors, a verifier, deadline, amount, a hash of the milestone document, and whether the milestone has been completed or paid. It also contains two mappings to track the reputation of contractors and verifiers, respectively
The contract contains several data structures including the Milestone struct that contains information about each milestone created, such as the client's address, a list of contractors, a verifier, deadline, amount, a hash of the milestone document, and whether the milestone has been completed or paid. It also contains two mappings to track the reputation of contractors and verifiers, respectively.
The contract has several public functions that can be called to interact with the MilestoneTracker contract, such as addAuthorizedAddress(), removeAuthorizedAddress(), updateMinVerifierReputation(), fundCybereum(), createMilestone(), completeMilestone(), updateVerifierReputationThreshold(), resolveDispute(), etc.
The contract also has several internal functions, such as _payContractors(), _payVerifiers(), and _updateReputation() that are used to perform specific actions within the contract.
The MilestoneTracker contract provides a way for clients to set and track their project milestones, ensure secure and on-time completion, and pay contractors once work has been completed to satisfaction.
- Reputation: Tracks a user's reputation score and the number of ratings that the user has received. Every user has both a contractorReputations and a verifierReputations mapping to keep track of user reputations, which include a reputation score and the number of ratings given to each contractor and verifier.
- Token: Tracks the ownership of a token by storing its unique identifier and the address of the token owner.
- PaymentMilestone: This struct represents a payment milestone for a milestone event in the project. It contains fields for the payment amount, payment percentage of the total payment, payment completion status (whether payment has been made or not), an OrderStatus enum field to track payment status, and a Token struct used to track ownership of a token. Additionally, a MilestoneType enum field is used to distinguish payment milestones from regular milestones.
- Milestone: This struct tracks the progress of a project milestone, including its description, client, contractors, verifier, deadline, amount, project value accumulated at the milestone, document hash, completion status, payment status, dispute status, optional penalty for late completion, payment milestones, completed by contractor flag, payment percentage, and a token struct field for tracking token ownership. A MilestoneType enum field is used to distinguish payment milestones from regular milestones.
- OrderStatus and MilestoneType: These enums define constants for tracking various states of an order and milestones respectively.
- The MilestoneTracker contract also contains a number of functions for adding authorized addresses, removing authorized addresses and updating the minVerifierReputation threshold. Additionally, there is a fundCybereum() function to fund the 'cybereum' address that should be provided, but wasnâ€™t available in this contract code.
- The createMilestone() function is used to create a new milestone for a project. This function takes several arguments, including an array of contractors.
## Functions
Here is a brief description of some of the main functions in the MilestoneTracker.sol contract:
- createMilestone: This function is used to create a new milestone and requires various arguments such as the contractors' addresses, the verifier's address, the deadline, the amount, and a document hash. It calculates the value each contractor is owed and adds a new PaymentMilestone to keep track of payment information. The function returns the ID number of the created milestone.
- completeMilestone: This function is used to complete a milestone and requires arguments such as the milestone ID, and verifier and contractor signatures. If the milestone is completed before its deadline, the entire amount that the milestone is worth ($USD, ETH etc) will be paid to the contractors. If it is completed past the deadline, a penalty might be subtracted from the total amount and paid to the verifier. The function emits an event indicating that the milestone has been completed.
- getMilestoneValue: This function is used to get the current value of a milestone in the contract, given its ID.
- setMilestoneValue: This function is used to set the value of a milestone in the contract, given its ID and a new value.
- addAuthorizedAddress/removeAuthorizedAddress: These functions are used to add or remove an authorized address to perform certain actions in the contract.
- updateMinVerifierReputation: This function is used to update the minimum reputation score required for a user to be a verifier in the contract. This ensures that only users with a minimum reputation score can act as project verifiers.
- fundCybereum: This function is a joke function in the code and demonstrates how to transfer ether/cryptocurrency to an address.
- updateMinVerifierReputation: This function allows the contract owner to update the minimum reputation score required for a user to be a verifier in the contract, as mentioned earlier.
- fundCybereum: This function demonstrates how to send cryptocurrency (Ether) to an address (in this case, a joke address called cybereum).
- isValidContractor: This function is a modifier that ensures that a given address is a valid contractor with a reputation score greater than zero.
- isValidVerifier: This function is a modifier that ensures that a given address is a valid verifier with a reputation score greater than zero.
- isAuthorized: This function is a modifier that ensures that a given address is authorized to perform a specific action, either because it is the contract owner or because it has been added as an authorized address.
- getMilestone: This function is used to get the details of a given milestone, given its ID. It returns the milestone's ID, description, amount, and type (which is either REGULAR or PAYMENT).
- setMilestoneValue: This function is used to set the value of a milestone in the contract and requires the milestone ID and a new value.
- getMilestoneValue: This function is used to get the current value of a milestone in the contract, given its ID.
- updateContractorReputation: This function is used to update the reputation of a contractor in the contract.
- updateVerifierReputation: This function is used to update the reputation of a verifier in the contract.
- rateContractor: This function is used to rate a contractor in the contract and requires a score between 1 and 5.
- rateVerifier: This function is used to rate a verifier in the contract and requires a score between 1 and 5.
- resolveDispute: This function is used to resolve a dispute over a milestone and requires the milestone ID. If a dispute arises, it can be resolved by the owner of the contract.

